<!doctype html>
<html lang="en">

<head>
    <!-- Google Consent Mode -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'analytics_storage': 'denied'
        });
    </script>
    <!-- End Google Consent Mode -->

    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-56G5F5W4');
    </script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./favicon-D9-DvBry.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkers</title>


    <meta name="description" content="Checkers - Classic board game with strategic gameplay!" />
    <meta name="keywords" content="checkers, draughts, board game, strategy, two player" />
    <meta name="author" content="Tran Hai Dang" />

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="Checkers" />
    <meta property="og:description" content="Classic checkers board game with strategic gameplay!" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://tiniquiz.com/checkers/" />
    <meta property="og:image" content="https://tiniquiz.com/checkers/favicon-D9-DvBry.svg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Checkers" />
    <meta name="twitter:description" content="Classic checkers board game with strategic gameplay!" />
    <meta name="twitter:image" content="https://tiniquiz.com/checkers/favicon-D9-DvBry.svg" />
  <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();class U{game;maxDepth=4;constructor(e){this.game=e}setDifficulty(e){switch(e){case"EASY":this.maxDepth=2;break;case"MEDIUM":this.maxDepth=4;break;case"HARD":this.maxDepth=6;break}}getBestMove(e,o){const t=this.cloneBoard(e),s=this.getAllValidMoves(t,o);if(s.length===0)return null;if(s.length===1)return s[0];let n=null,r=-1/0;const a=-1/0,l=1/0;for(const u of s){const c=this.simulateMove(t,u),f=this.minimax(c,this.maxDepth-1,a,l,!1,o);f>r&&(r=f,n=u)}return n||s[0]}minimax(e,o,t,s,n,r){const a=r==="BLACK"?"RED":"BLACK";if(o===0)return this.evaluateBoard(e,r);const l=n?r:a,u=this.getAllValidMoves(e,l);if(u.length===0)return n?-1e4:1e4;if(n){let c=-1/0;for(const f of u){const h=this.simulateMove(e,f),g=this.minimax(h,o-1,t,s,!1,r);if(c=Math.max(c,g),t=Math.max(t,g),s<=t)break}return c}else{let c=1/0;for(const f of u){const h=this.simulateMove(e,f),g=this.minimax(h,o-1,t,s,!0,r);if(c=Math.min(c,g),s=Math.min(s,g),s<=t)break}return c}}evaluateBoard(e,o){let t=0;const s=e.length;for(let n=0;n<s;n++)for(let r=0;r<s;r++){const a=e[n][r];if(!a)continue;let l=0;a.type==="KING"?l=50:(l=10,a.player==="BLACK"?(l+=n,(r===0||r===s-1)&&(l+=1)):(l+=s-1-n,(r===0||r===s-1)&&(l+=1)));const u=Math.floor(s/2)-2,c=Math.floor(s/2)+2;n>=u&&n<c&&r>=u&&r<c&&(l+=2),a.player===o?t+=l:t-=l}return t}getAllValidMoves(e,o){const t=this.game.getAllPieces(o,e),s=[];for(const n of t){const r=this.game.calculateValidMoves(n,e);s.push(...r)}return s}simulateMove(e,o){const t=this.cloneBoard(e);this.game.executeMove(o,t);const s=t[o.to.row][o.to.col];if(s&&s.type!=="KING"){const n=t.length;(s.player==="RED"&&o.to.row===0||s.player==="BLACK"&&o.to.row===n-1)&&(s.type="KING")}return t}cloneBoard(e){return e.map(o=>o.map(t=>t===null?null:{...t}))}}class R{boardSize=8;forceJump=!0;difficulty="MEDIUM";board=[];currentPlayer="RED";gameState="MENU";gameMode="TWO_PLAYER";selectedPiece=null;validMoves=[];moveHistory=[];captureInProgress=!1;startTime=0;elapsedTime=0;timerInterval=null;winner=null;ai;isAIThinking=!1;stateChangeListeners=[];moveListeners=[];boardUpdateListeners=[];aiThinkingListeners=[];constructor(){this.ai=new U(this),this.initializeBoard()}initializeBoard(){this.board=Array(this.boardSize).fill(null).map(()=>Array(this.boardSize).fill(null));const e=this.boardSize===8?3:this.boardSize===10?4:5;for(let o=0;o<e;o++)for(let t=0;t<this.boardSize;t++)(o+t)%2===1&&(this.board[o][t]={player:"BLACK",type:"REGULAR",row:o,col:t});for(let o=this.boardSize-e;o<this.boardSize;o++)for(let t=0;t<this.boardSize;t++)(o+t)%2===1&&(this.board[o][t]={player:"RED",type:"REGULAR",row:o,col:t})}setBoardSize(e){this.boardSize=e}setForceJump(e){this.forceJump=e}setGameMode(e){this.gameMode=e}setDifficulty(e){this.difficulty=e,this.ai.setDifficulty(e)}getForceJump(){return this.forceJump}getBoardSize(){return this.boardSize}getGameMode(){return this.gameMode}getDifficulty(){return this.difficulty}start(){this.initializeBoard(),this.currentPlayer="RED",this.selectedPiece=null,this.validMoves=[],this.moveHistory=[],this.captureInProgress=!1,this.startTime=Date.now(),this.elapsedTime=0,this.winner=null,this.isAIThinking=!1,this.gameState="PLAYING",this.notifyStateChange(),this.startTimer()}restart(){this.stopTimer(),this.gameState="MENU",this.notifyStateChange()}startTimer(){this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=window.setInterval(()=>{this.elapsedTime=Date.now()-this.startTime},1e3)}stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}selectPiece(e,o){if(this.gameState!=="PLAYING"||this.isAIThinking||this.gameMode==="VS_AI"&&this.currentPlayer!=="RED")return!1;const t=this.board[e][o];return!t||t.player!==this.currentPlayer||this.captureInProgress&&this.selectedPiece&&(this.selectedPiece.row!==e||this.selectedPiece.col!==o)?!1:(this.selectedPiece=t,this.validMoves=this.calculateValidMoves(t),this.notifyBoardUpdate(),!0)}makeMove(e,o){if(!this.selectedPiece||this.gameState!=="PLAYING"||this.isAIThinking)return!1;const t=this.validMoves.find(s=>s.to.row===e&&s.to.col===o);if(!t)return!1;if(this.executeMove(t),this.checkKingPromotion(e,o),t.captures&&t.captures.length>0){const s=this.board[e][o];if(s){const n=this.getCaptureMoves(s);if(n.length>0)return this.captureInProgress=!0,this.selectedPiece=s,this.validMoves=n,this.notifyBoardUpdate(),!0}}return this.captureInProgress=!1,this.selectedPiece=null,this.validMoves=[],this.switchPlayer(),this.checkWinCondition(),t&&this.notifyMove(t),this.notifyBoardUpdate(),this.gameState==="PLAYING"&&this.gameMode==="VS_AI"&&this.currentPlayer==="BLACK"&&this.makeAIMove(),!0}async makeAIMove(){this.isAIThinking=!0,this.notifyAIThinking(!0),setTimeout(()=>{const e=this.ai.getBestMove(this.board,"BLACK");e?this.executeAIMoveSequence(e):(this.endGame("RED"),this.isAIThinking=!1,this.notifyAIThinking(!1))},500)}executeAIMoveSequence(e){if(this.executeMove(e),this.checkKingPromotion(e.to.row,e.to.col),e.captures&&e.captures.length>0){const o=this.board[e.to.row][e.to.col];if(o&&this.getCaptureMoves(o).length>0){setTimeout(()=>{const s=this.ai.getBestMove(this.board,"BLACK");s?this.executeAIMoveSequence(s):this.finishAITurn()},300);return}}this.finishAITurn()}finishAITurn(){if(this.switchPlayer(),this.checkWinCondition(),this.moveHistory.length>0){const e=this.moveHistory[this.moveHistory.length-1];this.notifyMove(e)}this.notifyBoardUpdate(),this.isAIThinking=!1,this.notifyAIThinking(!1)}executeMove(e,o=this.board){const t=o[e.from.row][e.from.col];t&&(e.captures&&e.captures.forEach(s=>{o[s.row][s.col]=null}),o[e.from.row][e.from.col]=null,o===this.board&&(t.row=e.to.row,t.col=e.to.col,this.moveHistory.push(e)),o[e.to.row][e.to.col]=t)}checkKingPromotion(e,o){const t=this.board[e][o];!t||t.type==="KING"||(t.player==="RED"&&e===0||t.player==="BLACK"&&e===this.boardSize-1)&&(t.type="KING")}calculateValidMoves(e,o=this.board){const t=this.getCaptureMoves(e,o);if(t.length>0)return t;if(this.forceJump){const s=this.getAllPieces(e.player,o);for(const n of s){if(n.row===e.row&&n.col===e.col)continue;if(this.getCaptureMoves(n,o).length>0)return[]}}return this.getRegularMoves(e,o)}getCaptureMoves(e,o=this.board){const t=[],s=e.type==="KING"?[[-1,-1],[-1,1],[1,-1],[1,1]]:e.player==="RED"?[[-1,-1],[-1,1]]:[[1,-1],[1,1]];for(const[n,r]of s)this.findCaptures(e,n,r,[],t,o);return t}findCaptures(e,o,t,s,n,r){const a=e.row+o,l=e.col+t,u=e.row+2*o,c=e.col+2*t;if(u<0||u>=this.boardSize||c<0||c>=this.boardSize)return;const f=r[a][l];if(!f||f.player===e.player||s.some(y=>y.row===a&&y.col===l)||r[u][c]!==null)return;const h=[...s,{row:a,col:l}],g={from:{row:e.row,col:e.col},to:{row:u,col:c},captures:h};n.push(g);const w={...e,row:u,col:c},p=e.type==="KING"?[[-1,-1],[-1,1],[1,-1],[1,1]]:e.player==="RED"?[[-1,-1],[-1,1]]:[[1,-1],[1,1]];for(const[y,I]of p)this.findMultiCaptures(w,y,I,h,g,n,r)}findMultiCaptures(e,o,t,s,n,r,a){const l=e.row+o,u=e.col+t,c=e.row+2*o,f=e.col+2*t;if(c<0||c>=this.boardSize||f<0||f>=this.boardSize)return;const h=a[l][u];if(!h||h.player===e.player||s.some(S=>S.row===l&&S.col===u)||a[c][f]!==null)return;const g=[...s,{row:l,col:u}],w=r.indexOf(n);w>-1&&r.splice(w,1);const p={from:n.from,to:{row:c,col:f},captures:g};r.push(p);const y={...e,row:c,col:f},I=e.type==="KING"?[[-1,-1],[-1,1],[1,-1],[1,1]]:e.player==="RED"?[[-1,-1],[-1,1]]:[[1,-1],[1,1]];for(const[S,b]of I)this.findMultiCaptures(y,S,b,g,p,r,a)}getRegularMoves(e,o=this.board){const t=[],s=e.type==="KING"?[[-1,-1],[-1,1],[1,-1],[1,1]]:e.player==="RED"?[[-1,-1],[-1,1]]:[[1,-1],[1,1]];for(const[n,r]of s){const a=e.row+n,l=e.col+r;a>=0&&a<this.boardSize&&l>=0&&l<this.boardSize&&o[a][l]===null&&t.push({from:{row:e.row,col:e.col},to:{row:a,col:l}})}return t}switchPlayer(){this.currentPlayer=this.currentPlayer==="RED"?"BLACK":"RED"}checkWinCondition(){const e=this.getAllPieces("RED"),o=this.getAllPieces("BLACK");if(e.length===0)this.endGame("BLACK");else if(o.length===0)this.endGame("RED");else if(!this.currentPlayerHasMoves()){const s=this.currentPlayer==="RED"?"BLACK":"RED";this.endGame(s)}}currentPlayerHasMoves(){const e=this.getAllPieces(this.currentPlayer);for(const o of e)if(this.calculateValidMoves(o).length>0)return!0;return!1}getAllPieces(e,o=this.board){const t=[];for(let s=0;s<this.boardSize;s++)for(let n=0;n<this.boardSize;n++){const r=o[s][n];r&&r.player===e&&t.push(r)}return t}endGame(e){this.stopTimer(),this.gameState="RESULT",this.winner=e,this.notifyStateChange()}getBoard(){return this.board}getCurrentPlayer(){return this.currentPlayer}getState(){return this.gameState}getSelectedPiece(){return this.selectedPiece}getValidMoves(){return this.validMoves}getMoves(){return this.moveHistory}getWinner(){return this.winner}getElapsedTime(){return this.elapsedTime}formatTime(e){const o=Math.floor(e/1e3),t=Math.floor(o/60),s=o%60;return`${t}:${s.toString().padStart(2,"0")}`}onStateChange(e){this.stateChangeListeners.push(e)}onMove(e){this.moveListeners.push(e)}onBoardUpdate(e){this.boardUpdateListeners.push(e)}onAIThinking(e){this.aiThinkingListeners.push(e)}notifyStateChange(){this.stateChangeListeners.forEach(e=>e(this.gameState))}notifyMove(e){this.moveListeners.forEach(o=>o(e))}notifyBoardUpdate(){this.boardUpdateListeners.forEach(e=>e())}notifyAIThinking(e){this.aiThinkingListeners.forEach(o=>o(e))}}const d=new R;class G{currentLang="en";listeners=[];locales;constructor(e,o="en"){this.locales=e,this.currentLang=o}get language(){return this.currentLang}setLanguage(e){this.currentLang!==e&&(this.currentLang=e,localStorage.setItem("language",e),this.notifyListeners())}subscribe(e){this.listeners.push(e)}notifyListeners(){this.listeners.forEach(e=>e(this.currentLang))}getUIText(e,o){const t=this.locales[this.currentLang]?.ui;let s=t&&t[e]||e;return o&&Object.entries(o).forEach(([n,r])=>{s=s.replace(`{${n}}`,r)}),s}}const N={ui:{gameTitle:"Checkers",gameSetup:"Game Setup",startGame:"Start Game",newGame:"New Game",redTurn:"Red's Turn",blackTurn:"Black's Turn",redWins:"Red Wins!",blackWins:"Black Wins!",redPlayerWins:"Red Player Wins!",blackPlayerWins:"Black Player Wins!",gameOver:"Game Over",totalMoves:"Total Moves",playAgain:"Play Again",time:"Time",moves:"Moves",highScores:"High Scores",rank:"Rank",date:"Date",selectPiece:"Select a piece to move",mustCapture:"You must capture!",invalidMove:"Invalid move",boardSize:"Board Size",forceJump:"Force Jump (Mandatory Captures)",difficulty:"Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",gameMode:"Game Mode",twoPlayers:"2 Players",vsAI:"vs AI"}},q={ui:{gameTitle:"チェッカー",gameSetup:"ゲーム設定",startGame:"ゲーム開始",newGame:"新しいゲーム",redTurn:"赤のターン",blackTurn:"黒のターン",redWins:"赤の勝利！",blackWins:"黒の勝利！",redPlayerWins:"赤プレイヤーの勝利！",blackPlayerWins:"黒プレイヤーの勝利！",gameOver:"ゲーム終了",totalMoves:"合計手数",playAgain:"もう一度プレイ",time:"時間",moves:"手数",highScores:"ハイスコア",rank:"順位",date:"日付",selectPiece:"駒を選択してください",mustCapture:"取る必要があります！",invalidMove:"無効な移動",boardSize:"ボードサイズ",forceJump:"強制ジャンプ (必須)",difficulty:"難易度",easy:"簡単",medium:"普通",hard:"難しい",gameMode:"ゲームモード",twoPlayers:"二人対戦",vsAI:"AI対戦"}},K={ui:{gameTitle:"Cờ đam",gameSetup:"Thiết lập trò chơi",startGame:"Bắt đầu",newGame:"Ván mới",redTurn:"Lượt đỏ",blackTurn:"Lượt đen",redWins:"Đỏ thắng!",blackWins:"Đen thắng!",redPlayerWins:"Người chơi đỏ thắng!",blackPlayerWins:"Người chơi đen thắng!",gameOver:"Trò chơi kết thúc",totalMoves:"Tổng số nước",playAgain:"Chơi lại",time:"Thời gian",moves:"Số nước",highScores:"Điểm cao",rank:"Hạng",date:"Ngày",selectPiece:"Chọn quân cờ để di chuyển",mustCapture:"Bạn phải ăn quân!",invalidMove:"Nước đi không hợp lệ",boardSize:"Kích thước bàn cờ",forceJump:"Bắt buộc nhảy (Bắt quân)",difficulty:"Độ khó",easy:"Dễ",medium:"Trung bình",hard:"Khó",gameMode:"Chế độ chơi",twoPlayers:"2 Người chơi",vsAI:"Đấu với AI"}};class W{dialog;STORAGE_KEY="consentMode";constructor(){this.dialog=document.createElement("div"),this.dialog.className="consent-dialog",this.dialog.innerHTML=`
            <div class="consent-content">
                <h3>We value your privacy</h3>
                <p>We use cookies to improve your experience, analyze traffic, and show relevant ads.</p>
                <p>You can choose to accept or reject these cookies.</p>
                <p>Essential cookies are always on because they are required for the site to work.</p>
                <div class="consent-buttons">
                    <button id="btn-reject" class="btn-reject">Reject All</button>
                    <button id="btn-accept" class="btn-accept">Accept All</button>
                </div>
            </div>
        `,document.body.appendChild(this.dialog),this.init()}init(){const e=localStorage.getItem(this.STORAGE_KEY);e?this.updateConsent(e==="granted"):this.showDialog(),this.dialog.querySelector("#btn-accept")?.addEventListener("click",()=>{this.setConsent(!0)}),this.dialog.querySelector("#btn-reject")?.addEventListener("click",()=>{this.setConsent(!1)})}showDialog(){this.dialog.style.display="flex"}hideDialog(){this.dialog.style.display="none"}setConsent(e){localStorage.setItem(this.STORAGE_KEY,e?"granted":"denied"),this.updateConsent(e),this.hideDialog()}updateConsent(e){const o=e?"granted":"denied";typeof window.gtag=="function"&&window.gtag("consent","update",{ad_storage:o,ad_user_data:o,ad_personalization:o,analytics_storage:o})}}new W;const J=localStorage.getItem("language"),m=new G({en:N,ja:q,vi:K},J||"en"),$=()=>{H(),L(),document.querySelectorAll(".lang-btn").forEach(i=>{i.classList.toggle("active",i.dataset.lang===m.language)}),V()},_=()=>{const i=document.querySelector(".mode-btn.active"),e=document.querySelector('input[name="board-size"]:checked'),o=document.getElementById("force-jump");if(i&&e&&o){const t={mode:i.dataset.mode,size:e.value,forceJump:o.checked,difficulty:document.querySelector(".difficulty-btn.active")?.dataset.difficulty||"MEDIUM"};localStorage.setItem("checkers_setup",JSON.stringify(t))}},V=()=>{try{const i=localStorage.getItem("checkers_setup");if(i){const{mode:e,size:o,forceJump:t,difficulty:s}=JSON.parse(i);if(e&&document.querySelectorAll(".mode-btn").forEach(n=>{n.dataset.mode===e?(n.classList.add("active"),d.setGameMode(e)):n.classList.remove("active")}),o){const n=document.querySelector(`input[name="board-size"][value="${o}"]`);n&&(n.checked=!0,d.setBoardSize(parseInt(o)))}if(t!==void 0){const n=document.getElementById("force-jump");n&&(n.checked=t,d.setForceJump(t))}s&&document.querySelectorAll(".difficulty-btn").forEach(n=>{n.dataset.difficulty===s?n.classList.add("active"):n.classList.remove("active")})}}catch(i){console.error("Failed to load Checkers setup:",i)}},L=()=>{const i=document.getElementById("game-title");i&&(i.textContent=m.getUIText("gameTitle"));const e=document.getElementById("menu-title");e&&(e.textContent=m.getUIText("gameSetup"));const o=document.getElementById("label-mode");o&&(o.textContent=m.getUIText("gameMode"));const t=document.getElementById("mode-two-player");t&&(t.textContent=m.getUIText("twoPlayers"));const s=document.getElementById("mode-vs-ai");s&&(s.textContent=m.getUIText("vsAI"));const n=document.getElementById("start-btn");n&&(n.textContent=m.getUIText("startGame"));const r=document.getElementById("new-game-btn");r&&(r.textContent=m.getUIText("newGame"));const a=document.getElementById("label-time");a&&(a.textContent=m.getUIText("time"));const l=document.getElementById("label-moves");l&&(l.textContent=m.getUIText("moves"));const u=document.getElementById("label-total-time");u&&(u.textContent=m.getUIText("time"));const c=document.getElementById("label-total-moves");c&&(c.textContent=m.getUIText("totalMoves"));const f=document.getElementById("restart-btn");f&&(f.textContent=m.getUIText("playAgain"));const h=document.getElementById("high-scores-title");h&&(h.textContent=m.getUIText("highScores"));const g=document.getElementById("th-rank");g&&(g.textContent=m.getUIText("rank"));const w=document.getElementById("th-moves");w&&(w.textContent=m.getUIText("moves"));const p=document.getElementById("th-time");p&&(p.textContent=m.getUIText("time"));const y=document.getElementById("th-date");y&&(y.textContent=m.getUIText("date"));const I=document.getElementById("label-board-size");I&&(I.textContent=m.getUIText("boardSize"));const S=document.getElementById("label-force-jump");S&&(S.textContent=m.getUIText("forceJump"));const b=document.getElementById("label-difficulty");b&&(b.textContent=m.getUIText("difficulty"));const T=document.getElementById("diff-easy");T&&(T.textContent=m.getUIText("easy"));const C=document.getElementById("diff-medium");C&&(C.textContent=m.getUIText("medium"));const x=document.getElementById("diff-hard");x&&(x.textContent=m.getUIText("hard")),M()},H=()=>{document.getElementById("home-btn")?.addEventListener("click",()=>{window.location.href="/"}),document.querySelectorAll(".lang-btn").forEach(i=>{i.addEventListener("click",e=>{const o=e.target.dataset.lang;m.setLanguage(o),document.querySelectorAll(".lang-btn").forEach(t=>t.classList.remove("active")),e.target.classList.add("active")})}),document.querySelectorAll(".mode-btn").forEach(i=>{i.addEventListener("click",e=>{const o=e.target,t=o.dataset.mode;document.querySelectorAll(".mode-btn").forEach(s=>s.classList.remove("active")),o.classList.add("active"),d.setGameMode(t),z(t)})}),document.querySelectorAll(".difficulty-btn").forEach(i=>{i.addEventListener("click",e=>{const o=e.target;document.querySelectorAll(".difficulty-btn").forEach(t=>t.classList.remove("active")),o.classList.add("active")})}),document.getElementById("start-btn")?.addEventListener("click",()=>{_();const i=document.querySelector('input[name="board-size"]:checked'),e=parseInt(i?.value||"8"),t=document.getElementById("force-jump")?.checked??!0;d.setBoardSize(e),d.setForceJump(t);const n=document.querySelector(".difficulty-btn.active")?.dataset.difficulty||"MEDIUM";d.setDifficulty(n),d.start()}),document.getElementById("new-game-btn")?.addEventListener("click",()=>{d.restart()}),document.getElementById("restart-btn")?.addEventListener("click",()=>{d.restart()})},A=()=>{const i=document.getElementById("board");if(!i)return;i.innerHTML="";const e=d.getBoardSize(),t=600/e;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x",(r*t).toString()),a.setAttribute("y",(n*t).toString()),a.setAttribute("width",t.toString()),a.setAttribute("height",t.toString());const l=(n+r)%2===0;a.classList.add("board-square"),a.classList.add(l?"light":"dark"),a.dataset.row=n.toString(),a.dataset.col=r.toString(),i.appendChild(a)}const s=d.getBoard();for(let n=0;n<e;n++)for(let r=0;r<e;r++){const a=s[n][r];a&&O(i,a,t)}j(),i.onclick=Y},O=(i,e,o)=>{const t=o*.37,s=e.col*o+o/2,n=e.row*o+o/2,r=document.createElementNS("http://www.w3.org/2000/svg","g");r.classList.add("piece"),r.dataset.row=e.row.toString(),r.dataset.col=e.col.toString();const a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("cx",(s+2).toString()),a.setAttribute("cy",(n+2).toString()),a.setAttribute("r",t.toString()),a.setAttribute("fill","rgba(0, 0, 0, 0.3)"),r.appendChild(a);const l=`grad-${e.player}-${e.row}-${e.col}`,u=document.createElementNS("http://www.w3.org/2000/svg","defs"),c=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");if(c.setAttribute("id",l),c.setAttribute("cx","30%"),c.setAttribute("cy","30%"),e.player==="RED"){const h=document.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttribute("offset","0%"),h.setAttribute("stop-color","#ef4444");const g=document.createElementNS("http://www.w3.org/2000/svg","stop");g.setAttribute("offset","100%"),g.setAttribute("stop-color","#dc2626"),c.appendChild(h),c.appendChild(g)}else{const h=document.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttribute("offset","0%"),h.setAttribute("stop-color","#4b5563");const g=document.createElementNS("http://www.w3.org/2000/svg","stop");g.setAttribute("offset","100%"),g.setAttribute("stop-color","#1f2937"),c.appendChild(h),c.appendChild(g)}u.appendChild(c),i.appendChild(u);const f=document.createElementNS("http://www.w3.org/2000/svg","circle");if(f.setAttribute("cx",s.toString()),f.setAttribute("cy",n.toString()),f.setAttribute("r",t.toString()),f.setAttribute("fill",`url(#${l})`),f.setAttribute("stroke",e.player==="RED"?"#b91c1c":"#111827"),f.setAttribute("stroke-width","2"),r.appendChild(f),e.type==="KING"){const h=document.createElementNS("http://www.w3.org/2000/svg","text");h.setAttribute("x",s.toString()),h.setAttribute("y",(n+o*.08).toString()),h.setAttribute("text-anchor","middle"),h.setAttribute("font-size",(o*.32).toString()),h.setAttribute("fill","#fbbf24"),h.textContent="♔",r.appendChild(h)}i.appendChild(r)},j=()=>{const i=document.getElementById("board");if(!i)return;const e=d.getSelectedPiece(),o=d.getValidMoves();i.querySelectorAll(".board-square").forEach(t=>{t.classList.remove("selected","valid-move")}),i.querySelectorAll(".piece").forEach(t=>{t.classList.remove("selected")}),i.querySelectorAll(".move-indicator").forEach(t=>t.remove()),e&&(i.querySelector(`.piece[data-row="${e.row}"][data-col="${e.col}"]`)?.classList.add("selected"),i.querySelector(`.board-square[data-row="${e.row}"][data-col="${e.col}"]`)?.classList.add("selected")),o.forEach(t=>{i.querySelector(`.board-square[data-row="${t.to.row}"][data-col="${t.to.col}"]`)?.classList.add("valid-move");const a=600/d.getBoardSize(),l=t.to.col*a+a/2,u=t.to.row*a+a/2,c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.classList.add("move-indicator"),c.setAttribute("cx",l.toString()),c.setAttribute("cy",u.toString()),c.setAttribute("r",(a*.16).toString()),c.setAttribute("fill",t.captures&&t.captures.length>0?"#ef4444":"#81b64c"),c.setAttribute("opacity","0.8"),c.style.pointerEvents="none",i.appendChild(c)})},Y=i=>{const e=i.target,o=e.closest(".board-square"),t=e.closest(".piece");if(t){const s=parseInt(t.dataset.row||"-1"),n=parseInt(t.dataset.col||"-1");s!==-1&&n!==-1&&k(s,n)}else if(o){const s=parseInt(o.dataset.row||"-1"),n=parseInt(o.dataset.col||"-1");s!==-1&&n!==-1&&F(s,n)}},F=(i,e)=>{d.getBoard()[i][e]?k(i,e):d.makeMove(i,e)},k=(i,e)=>{d.selectPiece(i,e)},M=()=>{const i=document.querySelector(".turn-indicator"),e=document.getElementById("turn-text"),o=document.getElementById("move-number"),t=d.getCurrentPlayer(),s=d.getMoves();i&&(i.className=`turn-indicator ${t.toLowerCase()}`),e&&(e.textContent=t==="RED"?m.getUIText("redTurn"):m.getUIText("blackTurn")),o&&(o.textContent=s.length.toString())},E=i=>{["menu-view","game-view","result-view"].forEach(e=>{const o=document.getElementById(e);o&&(e===i?o.classList.remove("hidden"):o.classList.add("hidden"))})};let P="MENU",v=null;d.onStateChange(i=>{P=i,i==="MENU"&&(E("menu-view"),v&&(clearInterval(v),v=null)),i==="PLAYING"&&(E("game-view"),A(),M(),v&&clearInterval(v),v=window.setInterval(()=>{const e=d.getElapsedTime(),o=d.formatTime(e),t=document.getElementById("game-timer");t&&(t.textContent=o)},1e3)),i==="RESULT"&&(E("result-view"),v&&(clearInterval(v),v=null),Q(),D())});d.onMove(()=>{A(),M()});d.onBoardUpdate(()=>{A()});d.onAIThinking(i=>{const e=document.getElementById("board");e&&(i?(e.style.cursor="wait",e.style.opacity="0.8"):(e.style.cursor="pointer",e.style.opacity="1"))});const Q=()=>{const i=d.getWinner();if(!i)return;if(d.getGameMode()==="VS_AI"){if(i!=="RED")return}else return;const e=d.getMoves().length,o=d.getElapsedTime(),t=Date.now(),s=d.getBoardSize(),n=d.getForceJump(),r=d.getDifficulty(),a={moves:e,time:o,date:t},l=`checkers_highscores_${r}_${s}_${n}`;try{const u=localStorage.getItem(l);let c=u?JSON.parse(u):[];c.push(a),c.sort((f,h)=>f.moves!==h.moves?f.moves-h.moves:f.time-h.time),c=c.slice(0,5),localStorage.setItem(l,JSON.stringify(c))}catch(u){console.error("Failed to save high score:",u)}},X=()=>{if(d.getGameMode()!=="VS_AI")return[];const i=d.getBoardSize(),e=d.getForceJump(),t=`checkers_highscores_${d.getDifficulty()}_${i}_${e}`;try{const s=localStorage.getItem(t);return s?JSON.parse(s):[]}catch{return[]}},D=()=>{const i=d.getWinner(),e=document.getElementById("winner-display"),o=document.getElementById("total-moves"),t=document.getElementById("total-time"),s=document.getElementById("result-title");if(o&&(o.textContent=d.getMoves().length.toString()),t&&(t.textContent=d.formatTime(d.getElapsedTime())),i&&(s&&(s.textContent=i==="RED"?m.getUIText("redWins"):m.getUIText("blackWins")),e)){const l=i==="RED"?m.getUIText("redPlayerWins"):m.getUIText("blackPlayerWins");e.innerHTML=`
                <div class="winner-stone ${i.toLowerCase()}"></div>
                <span>${l}</span>
            `}const n=X(),r=document.getElementById("high-scores-body"),a=document.querySelector(".high-scores-container");d.getGameMode()==="VS_AI"?(a&&a.classList.remove("hidden"),r&&(r.innerHTML="",n.forEach((l,u)=>{const c=document.createElement("tr"),f=d.getMoves().length,h=d.getElapsedTime();i==="RED"&&l.moves===f&&l.time===h&&typeof l.date=="number"&&Date.now()-l.date<1e3&&c.classList.add("current-run");let g="";if(typeof l.date=="number"){const p=m.language==="vi"?"vi-VN":"en-US";g=new Date(l.date).toLocaleDateString(p)}else g=l.date;c.innerHTML=`
                    <td>${u+1}</td>
                    <td>${l.moves}</td>
                    <td>${d.formatTime(l.time)}</td>
                    <td>${g}</td>
                `,r.appendChild(c)}))):a&&a.classList.add("hidden")};m.subscribe(()=>{L(),P==="RESULT"&&D()});const z=i=>{const e=document.getElementById("difficulty-section");e&&(i==="VS_AI"?e.classList.remove("hidden"):e.classList.add("hidden"))};$();const B=document.querySelector(".mode-btn.active");B&&z(B.dataset.mode);</script>
  <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap";:root{--bg-primary: #0f1419;--bg-secondary: #1a1f29;--bg-card: #1e2633;--text-primary: #e8eaed;--text-secondary: #9aa0a6;--accent-primary: #8ab4f8;--accent-secondary: #f28b82;--accent-red: #ef4444;--accent-black: #1f2937;--board-light: #f0d9b5;--board-dark: #b58863;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px rgba(0, 0, 0, .4);--shadow-lg: 0 10px 25px rgba(0, 0, 0, .5);--shadow-glow: 0 0 20px rgba(138, 180, 248, .3)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background:linear-gradient(135deg,var(--bg-primary) 0%,var(--bg-secondary) 100%);color:var(--text-primary);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:1rem}#app{width:100%;max-width:700px;margin:0 auto}h1{text-align:center;font-size:3rem;font-weight:800;margin-bottom:0;background:linear-gradient(135deg,var(--accent-red),var(--accent-secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.header-controls{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:2rem;position:relative}.icon-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:.5rem;border-radius:50%;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:64px;height:64px;position:absolute;left:0}.icon-btn:hover{background:var(--bg-secondary);color:var(--accent-primary);transform:translateY(-2px)}.lang-switcher{display:flex;justify-content:center;gap:.5rem;margin-bottom:2rem}.lang-btn{padding:.5rem 1rem;font-size:.875rem;font-weight:600;border:2px solid rgba(138,180,248,.3);background:var(--bg-secondary);color:var(--text-secondary);border-radius:.375rem;cursor:pointer;transition:all .2s ease;min-width:3rem}.lang-btn:hover{border-color:var(--accent-primary)}.lang-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#fff}.card{background:var(--bg-card);border-radius:1rem;padding:2rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.hidden{display:none!important}#menu-view h2{font-size:2rem;margin-bottom:2rem;text-align:center;color:var(--text-primary)}.setup-group{margin-bottom:1.5rem}.setup-group h3{font-size:1rem;color:var(--text-secondary);margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.05em;font-weight:600}.radio-group{display:flex;gap:.5rem;background:var(--bg-secondary);padding:.25rem;border-radius:.5rem}.radio-label{flex:1;position:relative;cursor:pointer}.radio-label input{position:absolute;opacity:0;cursor:pointer}.radio-label span{display:block;padding:.75rem;text-align:center;border-radius:.375rem;color:var(--text-secondary);font-weight:600;transition:all .2s ease}.radio-label input:checked+span{background:var(--accent-primary);color:#fff;box-shadow:var(--shadow-sm)}.checkbox-label{display:flex;align-items:center;gap:.75rem;cursor:pointer;padding:.75rem;background:var(--bg-secondary);border-radius:.5rem;transition:all .2s ease}.checkbox-label:hover{background:#ffffff0d}.checkbox-label input{width:1.25rem;height:1.25rem;accent-color:var(--accent-primary);cursor:pointer}.checkbox-label span{color:var(--text-primary);font-weight:500}button.primary{width:100%;padding:1rem 2rem;font-size:1.1rem;font-weight:700;background:linear-gradient(135deg,var(--accent-red),var(--accent-secondary));color:#fff;border:none;border-radius:.5rem;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-md);margin-top:1rem}button.primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-glow)}#game-view{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.game-header{width:100%;display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:.5rem}.turn-indicator-container{display:flex;align-items:center;gap:.75rem}.turn-indicator{width:32px;height:32px;border-radius:50%;border:3px solid rgba(255,255,255,.3);transition:all .3s ease}.turn-indicator.red{background:radial-gradient(circle at 30% 30%,#ef4444,#dc2626);box-shadow:0 0 15px #ef444480}.turn-indicator.black{background:radial-gradient(circle at 30% 30%,#4b5563,#1f2937);box-shadow:0 0 15px #1f293780}.turn-text{font-size:1rem;font-weight:600;color:var(--text-primary)}.stat{display:flex;flex-direction:column;align-items:center;gap:.25rem}.stat-label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.stat-value{font-size:1.25rem;font-weight:700;color:var(--accent-primary)}#board-container{width:100%;max-width:600px;aspect-ratio:1;margin:0 auto}#board{width:100%;height:100%;border-radius:.5rem;box-shadow:var(--shadow-lg);cursor:pointer}.board-square{transition:fill .2s ease}.board-square.light{fill:var(--board-light)}.board-square.dark{fill:var(--board-dark)}.board-square.selected{fill:#81b64c}.board-square.valid-move{fill:#a9d36e}.piece{cursor:pointer;transition:all .2s ease}.piece:hover{filter:brightness(1.5)}.piece.selected{filter:brightness(1.2) drop-shadow(0 0 8px rgba(138,180,248,.8))}.king-crown{fill:#fbbf24;stroke:#f59e0b;stroke-width:1}#result-view{text-align:center}#result-view h2{font-size:2.5rem;margin-bottom:1.5rem;background:linear-gradient(135deg,var(--accent-red),var(--accent-secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.winner-display{display:flex;flex-direction:column;align-items:center;gap:1rem;margin:2rem 0;padding:2rem;background:var(--bg-secondary);border-radius:.5rem}.winner-stone{width:80px;height:80px;border-radius:50%;border:4px solid rgba(255,255,255,.3)}.winner-stone.red{background:radial-gradient(circle at 30% 30%,#ef4444,#dc2626);box-shadow:0 0 30px #ef444499}.winner-stone.black{background:radial-gradient(circle at 30% 30%,#4b5563,#1f2937);box-shadow:0 0 30px #1f293799}.winner-display span{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.result-stats{display:flex;justify-content:center;gap:2rem;margin:2rem 0;padding:1.5rem;background:var(--bg-secondary);border-radius:.5rem}.high-scores-container{width:100%;margin-top:2rem;animation:fadeIn .5s ease}#high-scores-title{font-size:1.5rem;margin-bottom:1rem;color:var(--text-primary);text-align:center}#high-scores-table{width:100%;border-collapse:collapse;background:#0003;border-radius:.5rem;overflow:hidden}#high-scores-table th,#high-scores-table td{padding:1rem;text-align:center;border-bottom:1px solid rgba(255,255,255,.05)}#high-scores-table th{background:#ffffff0d;color:var(--text-secondary);font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:.05em}#high-scores-table td{color:var(--text-primary);font-size:1rem}#high-scores-table tr:last-child td{border-bottom:none}#high-scores-table tr.current-run{background:#ef444426;border-left:3px solid var(--accent-red)}#high-scores-table tr.current-run td{color:var(--accent-red);font-weight:600}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in{animation:fadeIn .3s ease}@keyframes pieceMove{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.piece-animate{animation:pieceMove .3s ease}@media(max-width:768px){h1{font-size:2rem}.card{padding:1.5rem}.game-header{flex-direction:column;gap:.75rem}.result-stats{flex-direction:column;gap:1rem}#board-container{max-width:100%}}@media(max-width:480px){h1{font-size:1.5rem}.turn-text{font-size:.9rem}.stat-value{font-size:1rem}.winner-stone{width:60px;height:60px}.winner-display span{font-size:1.2rem}}.consent-dialog{position:fixed;inset:0;background:#000000bf;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:10000;display:none;align-items:center;justify-content:center;padding:1rem;animation:fadeIn .3s ease}.consent-content{background:var(--bg-secondary);border-radius:1rem;padding:2rem;max-width:500px;width:100%;box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,.1);animation:slideUp .3s ease}.consent-content h3{margin:0 0 1rem;font-size:1.5rem;color:var(--text-primary)}.consent-content p{margin:0 0 1.5rem;color:var(--text-secondary);line-height:1.6}.consent-buttons{display:flex;gap:.75rem;flex-wrap:wrap}.btn-accept,.btn-reject{flex:1;min-width:120px;padding:.875rem 1.5rem;border-radius:.5rem;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;border:none}.btn-accept{background:var(--accent-primary);color:#fff}.btn-accept:hover{background:var(--accent-secondary);transform:translateY(-2px);box-shadow:var(--shadow-md)}.btn-reject{background:transparent;border:2px solid var(--text-secondary);color:var(--text-secondary)}.btn-reject:hover{border-color:var(--text-primary);color:var(--text-primary);background:#ffffff0d}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media(max-width:640px){.consent-content{padding:1.5rem}.consent-buttons{flex-direction:column}.btn-accept,.btn-reject{width:100%}}.mode-btn,.difficulty-btn{flex:1;padding:.75rem;background:var(--bg-secondary);border:2px solid transparent;border-radius:.5rem;color:var(--text-secondary);font-weight:600;cursor:pointer;transition:all .2s ease;font-family:inherit;font-size:1rem}.mode-btn:hover,.difficulty-btn:hover{background:#ffffff0d;color:var(--text-primary)}.mode-btn.active,.difficulty-btn.active{background:var(--accent-primary);color:#fff;box-shadow:var(--shadow-sm);border-color:var(--accent-primary)}.mode-btn.disabled{opacity:.5;cursor:not-allowed}</style>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56G5F5W4" height="0" width="0"
            style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="app">
        <div class="header-controls">
            <button id="home-btn" class="icon-btn" aria-label="Back to Home">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </button>
            <h1 id="game-title">Checkers</h1>
        </div>

        <!-- Language Switcher -->
        <div class="lang-switcher">
            <button class="lang-btn active" data-lang="en">EN</button>
            <button class="lang-btn" data-lang="ja">JA</button>
            <button class="lang-btn" data-lang="vi">VI</button>
        </div>

        <!-- Menu View -->
        <div id="menu-view" class="card animate-fade-in">
            <h2 id="menu-title">Game Setup</h2>
            <div class="setup-group">
                <h3 id="label-mode">Game Mode</h3>
                <div class="radio-group">
                    <button class="mode-btn active" data-mode="TWO_PLAYER" id="mode-two-player">2 Players</button>
                    <button class="mode-btn" data-mode="VS_AI" id="mode-vs-ai">vs AI</button>
                </div>
            </div>

            <div class="setup-group" id="difficulty-section">
                <h3 id="label-difficulty">Difficulty</h3>
                <div class="radio-group">
                    <button class="difficulty-btn" data-difficulty="EASY" id="diff-easy">Easy</button>
                    <button class="difficulty-btn active" data-difficulty="MEDIUM" id="diff-medium">Medium</button>
                    <button class="difficulty-btn" data-difficulty="HARD" id="diff-hard">Hard</button>
                </div>
            </div>

            <div class="setup-group">
                <h3 id="label-board-size">Board Size</h3>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="board-size" value="8" checked>
                        <span>8x8</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="board-size" value="10">
                        <span>10x10</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="board-size" value="12">
                        <span>12x12</span>
                    </label>
                </div>
            </div>

            <div class="setup-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="force-jump" checked>
                    <span id="label-force-jump">Force Jump (Mandatory Captures)</span>
                </label>
            </div>

            <button id="start-btn" class="primary">Start Game</button>
        </div>

        <!-- Game View -->
        <div id="game-view" class="card hidden animate-fade-in">
            <button id="new-game-btn" class="primary">New Game</button>

            <div class="game-header">
                <div class="turn-indicator-container">
                    <div class="turn-indicator red"></div>
                    <div class="turn-text" id="turn-text">Red's Turn</div>
                </div>
                <div class="stat">
                    <div class="stat-label" id="label-time">Time</div>
                    <div class="stat-value" id="game-timer">0:00</div>
                </div>
                <div class="stat">
                    <div class="stat-label" id="label-moves">Moves</div>
                    <div class="stat-value" id="move-number">0</div>
                </div>
            </div>

            <div id="board-container">
                <svg id="board" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- Board will be rendered here -->
                </svg>
            </div>
        </div>

        <!-- Result View -->
        <div id="result-view" class="card hidden animate-fade-in">
            <h2 id="result-title">Game Over</h2>

            <div id="winner-display" class="winner-display">
                <!-- Winner info will be rendered here -->
            </div>

            <div class="result-stats">
                <div class="stat">
                    <div class="stat-label" id="label-total-time">Time</div>
                    <div class="stat-value" id="total-time">0:00</div>
                </div>
                <div class="stat">
                    <div class="stat-label" id="label-total-moves">Total Moves</div>
                    <div class="stat-value" id="total-moves">0</div>
                </div>
            </div>

            <!-- High Scores Table -->
            <div class="high-scores-container">
                <h3 id="high-scores-title">High Scores</h3>
                <table id="high-scores-table">
                    <thead>
                        <tr>
                            <th id="th-rank">Rank</th>
                            <th id="th-moves">Moves</th>
                            <th id="th-time">Time</th>
                            <th id="th-date">Date</th>
                        </tr>
                    </thead>
                    <tbody id="high-scores-body">
                        <!-- Scores injected here -->
                    </tbody>
                </table>
            </div>

            <button id="restart-btn" class="primary">Play Again</button>
        </div>
    </div>

</body>

</html>
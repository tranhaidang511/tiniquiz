<!doctype html>
<html lang="en">

<head>
  <!-- Google Tag Manager -->
  <script>
    (function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-56G5F5W4');
  </script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="./favicon-CNYHsM1K.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gomoku</title>


  <meta name="description" content="Gomoku - Classic strategy board game. Place 5 stones in a row to win!" />
  <meta name="keywords" content="Gomoku, Five in a Row, board game, strategy, game" />
  <meta name="author" content="Tran Hai Dang" />
  <!-- Open Graph / Facebook -->
  <meta property="og:title" content="Gomoku" />
  <meta property="og:description" content="Gomoku - Classic strategy board game. Place 5 stones in a row to win!" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tiniquiz.com/gomoku/" />
  <meta property="og:image" content="https://tiniquiz.com/gomoku/favicon.svg" />
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Gomoku" />
  <meta name="twitter:description" content="Gomoku - Classic strategy board game. Place 5 stones in a row to win!" />
  <meta name="twitter:image" content="https://tiniquiz.com/gomoku/favicon.svg" />
  <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();class T{boardSize;constructor(t=15){this.boardSize=t}setBoardSize(t){this.boardSize=t}getBestMove(t,e){const n=e==="BLACK"?"WHITE":"BLACK",i=this.findWinningMove(t,e);if(i)return i;const a=this.findWinningMove(t,n);return a||this.findBestStrategicMove(t,e,n)}findWinningMove(t,e){const n=this.getValidMoves(t);for(const i of n)if(this.wouldWin(t,i.row,i.col,e))return i;return null}wouldWin(t,e,n,i){t[e][n]=i;const a=[{dr:0,dc:1},{dr:1,dc:0},{dr:1,dc:1},{dr:1,dc:-1}];let o=!1;for(const{dr:s,dc:l}of a)if(this.countInLine(t,e,n,s,l,i)>=5){o=!0;break}return t[e][n]=null,o}countInLine(t,e,n,i,a,o){let s=1;for(let l=1;l<5;l++){const c=e+i*l,d=n+a*l;if(c<0||c>=this.boardSize||d<0||d>=this.boardSize||t[c][d]!==o)break;s++}for(let l=1;l<5;l++){const c=e-i*l,d=n-a*l;if(c<0||c>=this.boardSize||d<0||d>=this.boardSize||t[c][d]!==o)break;s++}return s}findBestStrategicMove(t,e,n){const i=this.getValidMoves(t);if(i.length===0)return null;if(i.length===this.boardSize*this.boardSize){const s=Math.floor(this.boardSize/2);return{row:s,col:s}}let a=-1/0,o=null;for(const s of i){const l=this.evaluatePosition(t,s.row,s.col,e,n);l>a&&(a=l,o=s)}return o}evaluatePosition(t,e,n,i,a){let o=0;t[e][n]=i,o+=this.evaluatePatterns(t,e,n,i)*1.2,t[e][n]=null,t[e][n]=a,o+=this.evaluatePatterns(t,e,n,a),t[e][n]=null;const s=Math.abs(e-this.boardSize/2)+Math.abs(n-this.boardSize/2);return o+=(this.boardSize-s)*.1,o}evaluatePatterns(t,e,n,i){let a=0;const o=[{dr:0,dc:1},{dr:1,dc:0},{dr:1,dc:1},{dr:1,dc:-1}];for(const{dr:s,dc:l}of o){const c=this.getPattern(t,e,n,s,l,i);a+=this.scorePattern(c)}return a}getPattern(t,e,n,i,a,o){let s="";for(let l=-4;l<=4;l++){const c=e+i*l,d=n+a*l;c<0||c>=this.boardSize||d<0||d>=this.boardSize?s+="X":t[c][d]===o?s+="O":t[c][d]===null?s+="-":s+="X"}return s}scorePattern(t){return t.includes("OOOOO")?1e5:t.includes("-OOOO-")?1e4:t.includes("-OOOO")||t.includes("OOOO-")?1e3:t.includes("-OOO-")?500:t.includes("--OOO-")||t.includes("-OOO--")?400:t.includes("-OOO")||t.includes("OOO-")?100:t.includes("-OO-")?50:t.includes("--OO-")||t.includes("-OO--")?40:t.includes("-OO")||t.includes("OO-")?10:t.includes("-O-")?1:0}getValidMoves(t){const e=[];if(!t.some(o=>o.some(s=>s!==null))){for(let o=0;o<this.boardSize;o++)for(let s=0;s<this.boardSize;s++)e.push({row:o,col:s});return e}const i=new Set,a=2;for(let o=0;o<this.boardSize;o++)for(let s=0;s<this.boardSize;s++)if(t[o][s]!==null)for(let l=-a;l<=a;l++)for(let c=-a;c<=a;c++){const d=o+l,u=s+c;if(d>=0&&d<this.boardSize&&u>=0&&u<this.boardSize&&t[d][u]===null){const g=`${d},${u}`;i.add(g)}}return i.forEach(o=>{const[s,l]=o.split(",").map(Number);e.push({row:s,col:l})}),e}}class L{state="MENU";mode="TWO_PLAYER";boardSize=15;board=[];currentPlayer="BLACK";moves=[];winner=null;winningLine=null;ai;isAIThinking=!1;stateListeners=[];moveListeners=[];boardListeners=[];aiThinkingListeners=[];constructor(){this.ai=new T(this.boardSize),this.initializeBoard()}initializeBoard(){this.board=Array(this.boardSize).fill(null).map(()=>Array(this.boardSize).fill(null))}setBoardSize(t){if(t!==15&&t!==19)throw new Error("Board size must be 15 or 19");this.boardSize=t,this.ai.setBoardSize(t),this.initializeBoard()}getBoardSize(){return this.boardSize}setGameMode(t){this.mode=t}getGameMode(){return this.mode}start(){this.board=[],this.initializeBoard(),this.currentPlayer="BLACK",this.moves=[],this.winner=null,this.winningLine=null,this.setState("PLAYING"),this.emitBoard()}makeMove(t,e){if(this.state!=="PLAYING"||this.isAIThinking||t<0||t>=this.boardSize||e<0||e>=this.boardSize||this.board[t][e]!==null||this.mode==="VS_AI"&&this.currentPlayer!=="BLACK")return!1;const n={row:t,col:e,player:this.currentPlayer};return this.board[t][e]=this.currentPlayer,this.moves.push(n),this.emitMove(n),this.checkWin(t,e)?(this.winner=this.currentPlayer,this.setState("RESULT"),!0):this.moves.length===this.boardSize*this.boardSize?(this.setState("RESULT"),!0):(this.currentPlayer=this.currentPlayer==="BLACK"?"WHITE":"BLACK",this.mode==="VS_AI"&&this.currentPlayer==="WHITE"&&this.makeAIMove(),!0)}async makeAIMove(){this.isAIThinking=!0,this.emitAIThinking(!0),setTimeout(()=>{const t=this.ai.getBestMove(this.board,"WHITE");if(t){const e={row:t.row,col:t.col,player:"WHITE"};if(this.board[t.row][t.col]="WHITE",this.moves.push(e),this.emitMove(e),this.checkWin(t.row,t.col)){this.winner="WHITE",this.setState("RESULT"),this.isAIThinking=!1,this.emitAIThinking(!1);return}if(this.moves.length===this.boardSize*this.boardSize){this.setState("RESULT"),this.isAIThinking=!1,this.emitAIThinking(!1);return}this.currentPlayer="BLACK"}this.isAIThinking=!1,this.emitAIThinking(!1)},500)}checkWin(t,e){const n=this.board[t][e];if(!n)return!1;const i=[{dr:0,dc:1},{dr:1,dc:0},{dr:1,dc:1},{dr:1,dc:-1}];for(const{dr:a,dc:o}of i){const s=this.getLine(t,e,a,o,n);if(s.length>=5)return this.winningLine=s,!0}return!1}getLine(t,e,n,i,a){const o=[{row:t,col:e}];for(let s=1;s<5;s++){const l=t+n*s,c=e+i*s;if(l<0||l>=this.boardSize||c<0||c>=this.boardSize||this.board[l][c]!==a)break;o.push({row:l,col:c})}for(let s=1;s<5;s++){const l=t-n*s,c=e-i*s;if(l<0||l>=this.boardSize||c<0||c>=this.boardSize||this.board[l][c]!==a)break;o.unshift({row:l,col:c})}return o}restart(){this.setState("MENU")}setState(t){this.state=t,this.stateListeners.forEach(e=>e(this.state))}getState(){return this.state}getCurrentPlayer(){return this.currentPlayer}getWinner(){return this.winner}getWinningLine(){return this.winningLine}getBoard(){return this.board}getMoves(){return[...this.moves]}isDraw(){return this.state==="RESULT"&&this.winner===null}isAITurn(){return this.mode==="VS_AI"&&this.currentPlayer==="WHITE"}getAIThinking(){return this.isAIThinking}onStateChange(t){this.stateListeners.push(t)}onMove(t){this.moveListeners.push(t)}onBoardChange(t){this.boardListeners.push(t)}onAIThinking(t){this.aiThinkingListeners.push(t)}emitMove(t){this.moveListeners.forEach(e=>e(t))}emitBoard(){this.boardListeners.forEach(t=>t(this.board))}emitAIThinking(t){this.aiThinkingListeners.forEach(e=>e(t))}}const f=new L,I={ui:{gameTitle:"Gomoku",gameSetup:"Game Setup",gameMode:"Game Mode",twoPlayers:"2 Players",vsAI:"vs AI",comingSoon:"Coming Soon",boardSize:"Board Size",startGame:"Start Game",blackTurn:"Black's Turn",whiteTurn:"White's Turn",yourTurn:"Your Turn",aiTurn:"AI's Turn",aiThinking:"AI is thinking...",move:"Move",gameOver:"Game Over!",blackWins:"Black Wins!",whiteWins:"White Wins!",blackPlayerWins:"Black Player Wins!",whitePlayerWins:"White Player Wins!",youWin:"You Win!",aiWins:"AI Wins!",draw:"It's a Draw!",boardFull:"The board is full. It's a draw!",totalMoves:"Total Moves",playAgain:"Play Again"}},E={ui:{gameTitle:"五目並べ",gameSetup:"ゲーム設定",gameMode:"ゲームモード",twoPlayers:"2プレイヤー",vsAI:"vsCPU",comingSoon:"近日公開",boardSize:"盤面サイズ",startGame:"ゲーム開始",blackTurn:"黒の番",whiteTurn:"白の番",yourTurn:"あなたの番",aiTurn:"CPUの番",aiThinking:"CPUが考え中...",move:"手数",gameOver:"ゲーム終了！",blackWins:"黒の勝ち！",whiteWins:"白の勝ち！",blackPlayerWins:"黒プレイヤーの勝利！",whitePlayerWins:"白プレイヤーの勝利！",youWin:"あなたの勝ち！",aiWins:"CPUの勝ち！",draw:"引き分け！",boardFull:"盤面が埋まりました。引き分けです！",totalMoves:"合計手数",playAgain:"もう一度"}},B={ui:{gameTitle:"Cờ Ca-rô",gameSetup:"Thiết Lập Trò Chơi",gameMode:"Chế Độ Chơi",twoPlayers:"2 Người Chơi",vsAI:"vs Máy",comingSoon:"Sắp Ra Mắt",boardSize:"Kích Thước Bàn",startGame:"Bắt Đầu",blackTurn:"Lượt Đen",whiteTurn:"Lượt Trắng",yourTurn:"Lượt Của Bạn",aiTurn:"Lượt Của Máy",aiThinking:"Máy đang suy nghĩ...",move:"Nước",gameOver:"Kết Thúc!",blackWins:"Đen Thắng!",whiteWins:"Trắng Thắng!",blackPlayerWins:"Người Chơi Đen Thắng!",whitePlayerWins:"Người Chơi Trắng Thắng!",youWin:"Bạn Thắng!",aiWins:"Máy Thắng!",draw:"Hòa!",boardFull:"Bàn cờ đã đầy. Trận đấu hòa!",totalMoves:"Tổng Số Nước",playAgain:"Chơi Lại"}},M={en:I,ja:E,vi:B};class z{currentLang="en";listeners=[];constructor(t="en"){this.currentLang=t}get language(){return this.currentLang}setLanguage(t){this.currentLang!==t&&(this.currentLang=t,localStorage.setItem("gomokuLanguage",t),this.notifyListeners())}subscribe(t){this.listeners.push(t)}notifyListeners(){this.listeners.forEach(t=>t(this.currentLang))}getUIText(t){return M[this.currentLang].ui[t]||t}}const C=localStorage.getItem("gomokuLanguage"),h=new z(C||"en");console.log("Gomoku loading...");const k=document.querySelector("#app"),P=()=>{k.innerHTML=`
    <h1 id="game-title">Gomoku</h1>
    
    <!-- Language Switcher -->
    <div class="lang-switcher">
      <button class="lang-btn active" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="ja">JA</button>
      <button class="lang-btn" data-lang="vi">VI</button>
    </div>
    
    <!-- Menu View -->
    <div id="menu-view" class="card animate-fade-in">
      <h2 id="menu-title">Game Setup</h2>
      <div class="menu-options">
        <div class="option-group">
          <label id="label-mode">Game Mode</label>
          <div class="mode-selector">
            <button id="mode-two-player" class="mode-btn active" data-mode="TWO_PLAYER">2 Players</button>
            <button id="mode-vs-ai" class="mode-btn" data-mode="VS_AI">vs AI</button>
          </div>
        </div>

        <div class="option-group">
          <label id="label-board-size">Board Size</label>
          <div class="size-selector">
            <button class="size-btn active" data-size="15">15 × 15</button>
            <button class="size-btn" data-size="19">19 × 19</button>
          </div>
        </div>

        <button id="start-btn" class="primary">Start Game</button>
      </div>
    </div>

    <!-- Game View -->
    <div id="game-view" class="card hidden animate-fade-in">
      <div class="game-info">
        <div class="current-turn">
          <div class="turn-indicator black"></div>
          <span id="turn-text">Black's Turn</span>
        </div>
        <div class="move-count">
          <span id="label-move">Move</span>: <span id="move-number">0</span>
        </div>
      </div>
      
      <div id="board-container">
        <svg id="board" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
          <!-- Board will be rendered here -->
        </svg>
      </div>
    </div>

    <!-- Result View -->
    <div id="result-view" class="card hidden animate-fade-in">
      <h2 id="result-title">Game Over!</h2>
      
      <div class="winner-display" id="winner-display">
        <!-- Winner info will be injected here -->
      </div>

      <div class="game-stats">
        <div class="stat">
          <div class="stat-label" id="label-total-moves">Total Moves</div>
          <div class="stat-value" id="total-moves">0</div>
        </div>
      </div>

      <button id="restart-btn" class="primary">Play Again</button>
    </div>
  `,W(),A(),document.querySelectorAll(".lang-btn").forEach(r=>{r.classList.toggle("active",r.dataset.lang===h.language)})},A=()=>{const r=document.getElementById("game-title");r&&(r.textContent=h.getUIText("gameTitle"));const t=document.getElementById("menu-title");t&&(t.textContent=h.getUIText("gameSetup"));const e=document.getElementById("label-mode");e&&(e.textContent=h.getUIText("gameMode"));const n=document.getElementById("mode-two-player");n&&(n.textContent=h.getUIText("twoPlayers"));const i=document.getElementById("mode-vs-ai");i&&(i.textContent=h.getUIText("vsAI"),i.classList.contains("disabled")&&(i.innerHTML=`${h.getUIText("vsAI")}<br><span style="font-size: 0.7rem; opacity: 0.7;">(${h.getUIText("comingSoon")})</span>`));const a=document.getElementById("label-board-size");a&&(a.textContent=h.getUIText("boardSize"));const o=document.getElementById("start-btn");o&&(o.textContent=h.getUIText("startGame"));const s=document.getElementById("label-move");s&&(s.textContent=h.getUIText("move")),y();const l=document.getElementById("label-total-moves");l&&(l.textContent=h.getUIText("totalMoves"));const c=document.getElementById("restart-btn");c&&(c.textContent=h.getUIText("playAgain"))},W=()=>{document.querySelectorAll(".lang-btn").forEach(r=>{r.addEventListener("click",t=>{const e=t.target.dataset.lang;h.setLanguage(e),document.querySelectorAll(".lang-btn").forEach(n=>n.classList.remove("active")),t.target.classList.add("active")})}),document.querySelectorAll(".mode-btn:not(.disabled)").forEach(r=>{r.addEventListener("click",t=>{const e=t.target,n=e.dataset.mode;document.querySelectorAll(".mode-btn").forEach(i=>i.classList.remove("active")),e.classList.add("active"),f.setGameMode(n)})}),document.querySelectorAll(".size-btn").forEach(r=>{r.addEventListener("click",t=>{const e=t.target,n=parseInt(e.dataset.size||"15");document.querySelectorAll(".size-btn").forEach(i=>i.classList.remove("active")),e.classList.add("active"),f.setBoardSize(n)})}),document.getElementById("start-btn")?.addEventListener("click",()=>{f.start()}),document.getElementById("restart-btn")?.addEventListener("click",()=>{f.restart()})},x=()=>{const r=document.getElementById("board");if(!r)return;r.innerHTML="";const t=f.getBoardSize(),e=30,i=(600-2*e)/(t-1),a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("width","600"),a.setAttribute("height","600"),a.setAttribute("fill","#2d3748"),a.setAttribute("rx","8"),r.appendChild(a);const o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("stroke","#4a5568"),o.setAttribute("stroke-width","1.5");for(let d=0;d<t;d++){const u=e+d*i,g=document.createElementNS("http://www.w3.org/2000/svg","line");g.setAttribute("x1",e.toString()),g.setAttribute("y1",u.toString()),g.setAttribute("x2",(600-e).toString()),g.setAttribute("y2",u.toString()),o.appendChild(g);const m=document.createElementNS("http://www.w3.org/2000/svg","line");m.setAttribute("x1",u.toString()),m.setAttribute("y1",e.toString()),m.setAttribute("x2",u.toString()),m.setAttribute("y2",(600-e).toString()),o.appendChild(m)}r.appendChild(o),(t===15?[[3,3],[3,11],[7,7],[11,3],[11,11]]:[[3,3],[3,9],[3,15],[9,3],[9,9],[9,15],[15,3],[15,9],[15,15]]).forEach(([d,u])=>{const g=document.createElementNS("http://www.w3.org/2000/svg","circle");g.setAttribute("cx",(e+u*i).toString()),g.setAttribute("cy",(e+d*i).toString()),g.setAttribute("r","4"),g.setAttribute("fill","#4a5568"),r.appendChild(g)});const l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("id","stones-group"),r.appendChild(l),r.style.cursor="crosshair",r.addEventListener("click",d=>{if(f.getState()!=="PLAYING")return;const u=r.getBoundingClientRect(),g=d.clientX-u.left,m=d.clientY-u.top,v=g/u.width*600,S=m/u.height*600,b=Math.round((v-e)/i),w=Math.round((S-e)/i);w>=0&&w<t&&b>=0&&b<t&&f.makeMove(w,b)});const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("r",(i*.4).toString()),c.setAttribute("fill","none"),c.setAttribute("stroke","#8ab4f8"),c.setAttribute("stroke-width","2"),c.setAttribute("opacity","0"),c.setAttribute("pointer-events","none"),r.appendChild(c),r.addEventListener("mousemove",d=>{if(f.getState()!=="PLAYING"){c.setAttribute("opacity","0");return}const u=r.getBoundingClientRect(),g=d.clientX-u.left,m=d.clientY-u.top,v=g/u.width*600,S=m/u.height*600,b=Math.round((v-e)/i),w=Math.round((S-e)/i);w>=0&&w<t&&b>=0&&b<t&&f.getBoard()[w][b]===null?(c.setAttribute("cx",(e+b*i).toString()),c.setAttribute("cy",(e+w*i).toString()),c.setAttribute("opacity","0.6")):c.setAttribute("opacity","0")}),r.addEventListener("mouseleave",()=>{c.setAttribute("opacity","0")})},O=r=>{const t=document.getElementById("board"),e=document.getElementById("stones-group");if(!t||!e)return;const n=f.getBoardSize(),i=30,o=(600-2*i)/(n-1),s=o*.42,l=i+r.col*o,c=i+r.row*o,d=document.createElementNS("http://www.w3.org/2000/svg","ellipse");d.setAttribute("cx",(l+2).toString()),d.setAttribute("cy",(c+2).toString()),d.setAttribute("rx",s.toString()),d.setAttribute("ry",(s*.9).toString()),d.setAttribute("fill","rgba(0, 0, 0, 0.3)"),d.classList.add("stone-animate"),e.appendChild(d);const u=`grad-${r.player}-${r.row}-${r.col}`,g=document.createElementNS("http://www.w3.org/2000/svg","defs"),m=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");if(m.setAttribute("id",u),m.setAttribute("cx","30%"),m.setAttribute("cy","30%"),r.player==="BLACK"){const S=document.createElementNS("http://www.w3.org/2000/svg","stop");S.setAttribute("offset","0%"),S.setAttribute("stop-color","#4a5568");const b=document.createElementNS("http://www.w3.org/2000/svg","stop");b.setAttribute("offset","100%"),b.setAttribute("stop-color","#1a202c"),m.appendChild(S),m.appendChild(b)}else{const S=document.createElementNS("http://www.w3.org/2000/svg","stop");S.setAttribute("offset","0%"),S.setAttribute("stop-color","#ffffff");const b=document.createElementNS("http://www.w3.org/2000/svg","stop");b.setAttribute("offset","100%"),b.setAttribute("stop-color","#f7fafc"),m.appendChild(S),m.appendChild(b)}g.appendChild(m),t.appendChild(g);const v=document.createElementNS("http://www.w3.org/2000/svg","circle");v.setAttribute("cx",l.toString()),v.setAttribute("cy",c.toString()),v.setAttribute("r",s.toString()),v.setAttribute("fill",`url(#${u})`),v.setAttribute("stroke",r.player==="BLACK"?"#0d131a":"#e2e8f0"),v.setAttribute("stroke-width","2"),v.classList.add("stone-animate"),e.appendChild(v)},y=()=>{const r=document.querySelector(".turn-indicator"),t=document.getElementById("turn-text"),e=document.getElementById("move-number"),n=f.getCurrentPlayer(),i=f.getMoves();r&&(r.className=`turn-indicator ${n.toLowerCase()}`),t&&(t.textContent=n==="BLACK"?h.getUIText("blackTurn"):h.getUIText("whiteTurn")),e&&(e.textContent=i.length.toString())},p=r=>{["menu-view","game-view","result-view"].forEach(t=>{const e=document.getElementById(t);e&&(t===r?e.classList.remove("hidden"):e.classList.add("hidden"))})};f.onStateChange(r=>{r==="MENU"&&p("menu-view"),r==="PLAYING"&&(p("game-view"),x(),y()),r==="RESULT"&&(p("result-view"),N())});f.onMove(r=>{O(r),y()});const N=()=>{const r=f.getWinner(),t=document.getElementById("winner-display"),e=document.getElementById("total-moves"),n=document.getElementById("result-title");if(e&&(e.textContent=f.getMoves().length.toString()),r){if(n&&(n.textContent=r==="BLACK"?h.getUIText("blackWins"):h.getUIText("whiteWins")),t){const i=r==="BLACK"?h.getUIText("blackPlayerWins"):h.getUIText("whitePlayerWins");t.innerHTML=`
        <div class="winner-stone ${r.toLowerCase()}"></div>
        <span>${i}</span>
      `}}else n&&(n.textContent=h.getUIText("draw")),t&&(t.innerHTML=`<span>${h.getUIText("boardFull")}</span>`)};h.subscribe(()=>{A()});P();</script>
  <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap";:root{--bg-primary: #0f1419;--bg-secondary: #1a1f29;--bg-card: #1e2633;--text-primary: #e8eaed;--text-secondary: #9aa0a6;--accent-primary: #8ab4f8;--accent-secondary: #f28b82;--board-bg: #2d3748;--board-line: #4a5568;--stone-black: #1a202c;--stone-white: #f7fafc;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px rgba(0, 0, 0, .4);--shadow-lg: 0 10px 25px rgba(0, 0, 0, .5);--shadow-glow: 0 0 20px rgba(138, 180, 248, .3)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background:linear-gradient(135deg,var(--bg-primary) 0%,var(--bg-secondary) 100%);color:var(--text-primary);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:1rem}#app{width:100%;max-width:900px;margin:0 auto}h1{text-align:center;font-size:3rem;font-weight:700;margin-bottom:2rem;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:var(--shadow-sm)}.lang-switcher{display:flex;justify-content:center;gap:.5rem;margin-bottom:2rem}.lang-btn{padding:.5rem 1rem;font-size:.875rem;font-weight:600;border:2px solid var(--board-line);background:var(--bg-secondary);color:var(--text-secondary);border-radius:.375rem;cursor:pointer;transition:all .2s ease;min-width:3rem}.lang-btn:hover{border-color:var(--accent-primary)}.lang-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#fff}.card{background:var(--bg-card);border-radius:1rem;padding:2rem;box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);transition:all .3s ease}.hidden{display:none!important}#menu-view h2{font-size:2rem;margin-bottom:2rem;text-align:center;color:var(--text-primary)}.menu-options{display:flex;flex-direction:column;gap:1.5rem}.option-group{display:flex;flex-direction:column;gap:.75rem}.option-group label{font-size:.9rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.mode-selector,.size-selector{display:flex;gap:1rem}.mode-btn,.size-btn{flex:1;padding:1rem;font-size:1rem;font-weight:600;border:2px solid var(--board-line);background:var(--bg-secondary);color:var(--text-primary);border-radius:.5rem;cursor:pointer;transition:all .2s ease}.mode-btn:hover,.size-btn:hover{border-color:var(--accent-primary);transform:translateY(-2px);box-shadow:var(--shadow-md)}.mode-btn.active,.size-btn.active{background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));border-color:transparent;color:#fff;box-shadow:var(--shadow-glow)}.mode-btn.disabled,.size-btn.disabled{opacity:.5;cursor:not-allowed}button.primary{width:100%;padding:1rem 2rem;font-size:1.1rem;font-weight:700;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));color:#fff;border:none;border-radius:.5rem;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-md);margin-top:1rem}button.primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-glow)}button.primary:active{transform:translateY(0)}#game-view{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.game-info{width:100%;display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:.5rem;border:1px solid rgba(255,255,255,.05)}.current-turn{font-size:1.2rem;font-weight:600;display:flex;align-items:center;gap:.75rem}.turn-indicator{width:24px;height:24px;border-radius:50%;border:2px solid var(--board-line);box-shadow:var(--shadow-sm);transition:all .3s ease;animation:pulse 2s ease-in-out infinite}.turn-indicator.black{background:var(--stone-black)}.turn-indicator.white{background:var(--stone-white)}.move-count{font-size:.9rem;color:var(--text-secondary)}#board-container{position:relative;width:100%;max-width:600px;aspect-ratio:1}#board{width:100%;height:100%;display:block;cursor:crosshair;filter:drop-shadow(var(--shadow-md))}#result-view{text-align:center}#result-view h2{font-size:2.5rem;margin-bottom:1.5rem;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.winner-display{display:flex;align-items:center;justify-content:center;gap:1rem;margin:2rem 0;font-size:1.5rem;font-weight:600}.winner-stone{width:48px;height:48px;border-radius:50%;box-shadow:var(--shadow-md);border:3px solid var(--board-line)}.winner-stone.black{background:radial-gradient(circle at 30% 30%,#4a5568,var(--stone-black))}.winner-stone.white{background:radial-gradient(circle at 30% 30%,white,var(--stone-white))}.game-stats{display:flex;justify-content:center;gap:2rem;margin:2rem 0;padding:1.5rem;background:var(--bg-secondary);border-radius:.5rem}.stat{display:flex;flex-direction:column;align-items:center;gap:.5rem}.stat-label{font-size:.85rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.stat-value{font-size:1.5rem;font-weight:700;color:var(--accent-primary)}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes stonePlaced{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.animate-fade-in{animation:fadeIn .3s ease}.stone-animate{animation:stonePlaced .3s cubic-bezier(.34,1.56,.64,1)}@media(max-width:768px){h1{font-size:2rem}.card{padding:1.5rem}#board-container{max-width:400px}.game-info{flex-direction:column;gap:.75rem}.mode-selector,.size-selector,.lang-switcher{flex-direction:column}}</style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-56G5F5W4" height="0" width="0"
      style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div id="app"></div>

</body>

</html>